package ctr;

import java.util.concurrent.locks.ReentrantReadWriteLock;

class Leser extends Thread { 
	
	private Speicher speicherLeser;
	public ReentrantReadWriteLock.ReadLock lockLeser; 
	
	Leser(Speicher speicher, ReentrantReadWriteLock.ReadLock lock) {
		this.lockLeser = lock;
		this.speicherLeser = speicher;
	}
	
	public void run() {
		lockLeser.lock();
		try {
			for(int y = 0; y<speicherLeser.size();y++) {
				System.out.println("Leser Ausgabe: " + speicherLeser.readLine(y));
			}
		}
		catch(Exception e) {
			System.out.println(e);
		}finally {
		lockLeser.unlock();}
	}
}
