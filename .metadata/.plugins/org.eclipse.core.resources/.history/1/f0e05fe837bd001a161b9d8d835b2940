package ctr;

import java.util.concurrent.locks.ReentrantReadWriteLock;

class Schreiber extends Thread {


	private Speicher speicherSchreiber;
	@SuppressWarnings("unused")
	private String[] textSchreiber;
	@SuppressWarnings("unused")
	private int zahlWiederholungSchreiber;
	@SuppressWarnings("unused")
	private ReentrantReadWriteLock.WriteLock lockSchreiber;

	Schreiber(Speicher speicher, String[] text, int zahlWiederholungen, ReentrantReadWriteLock.WriteLock lock) {
		this.lockSchreiber = lock;
		this.speicherSchreiber = speicher;
		this.textSchreiber = text;
		this.zahlWiederholungSchreiber = zahlWiederholungen;
	}

	public void run() {
		lockSchreiber.lock();	
		for (int i = 0; i < zahlWiederholungSchreiber; i++) {
			for (String s : textSchreiber) {
				speicherSchreiber.writeLine(s);
			}

		}
		lockSchreiber.unlock();

	}

}
